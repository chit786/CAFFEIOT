<!--
 Generated template for the Orders page.

 See http://ionicframework.com/docs/v2/components/#navigation for more info on
 Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="primary">
        <button ion-button menuToggle>
     <ion-icon name="menu"></ion-icon>
   </button>
        <ion-title>Orders</ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="addItem()"><ion-icon name="add-circle"></ion-icon></button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-searchbar (ionInput)="getItems($event)"></ion-searchbar>
    <!--ion-item>
       <ion-label width="10">Order Id</ion-label>
       <ion-label width="20">Date</ion-label>
       <ion-label width="10">Choice</ion-label>
       <ion-label width="10">Machine Id</ion-label>
       <ion-label width="10">Status</ion-label>
       <ion-label width="10">Rating</ion-label>
   </ion-item-->
    <!--<ion-card *ngFor="let item of items">-->
    <ion-list>
        <ion-item-sliding #slidingItem *ngFor="let item of OrderList | async">
            <ion-item>
                <ion-card>

                    <div (click)="openOrder(item)">
                        <ion-badge item-left>{{ item.id }}</ion-badge>
                        <span class="al-rt">{{ item.date | amDateFormat : 'DD MMM YYYY' }}</span>
                        <span class="clearfix"></span>
                    </div>
                    <!--<div class="list-label"> {{ item.choice }}</div>-->
                    <!--<ion-list>
            <ion-item class="list-label" *ngFor="let drink of item.choice">-->
                    <ion-chip #chip color="light" *ngFor="let drink of item.choice">
                        <ion-label style="text-align: center;">{{drink.choice}}</ion-label>
                        <button #btn ion-button clear color="dark" (click)="removeChoice(chip,item.choice,item.$key)">
                                <ion-icon name="close"></ion-icon>
                </button>
                    </ion-chip>
                    <!--</ion-item>
        </ion-list>-->
                    <div class="bottom-status" (click)="openOrder(item)">
                        <span><rating [(ngModel)]="item.rating" max="5" readOnly="true"></rating></span>
                        <span class="al-rt">{{ item.status }}</span>
                    </div>
                </ion-card>
            </ion-item>
            <ion-item-options side="right">
                <button ion-button color="primary" (click)="cancelOrder(item.$key)">
                    <ion-icon name="close-circle"></ion-icon>
                     Cancel
                 </button>
            </ion-item-options>
        </ion-item-sliding>


    </ion-list>

</ion-content>